<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Afficher lieux</title>
    <link rel="stylesheet" href="css.css" type="text/css">
</head>
<body>
    <main id="app">
        <p>Il y a {{ nbLieux }} lieux dans la base.</p>
        <div v-for="lieu in lieux" :key="lieu.idLieu"> 
            <h3>{{ lieu.nom }}</h3>
            <p>Adresse : {{ lieu.adresse }}</p>
            <p>Capacit√© maximale : {{ lieu.nbMaxPers }}</p>
        </div>
        <p><br /></p>
    </main>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const Lieux = {
            data() {
                return {
                    auteur: "Charlotte",
                    lieux: []
                }    
            },
            created()  {
                fetch('http://localhost:8080/Projet_Servlet/lieux?operation=listeLieux')
                    .then((response) => response.json())
                    .then((json) => {this.lieux = json});
            },
            computed: {
                nbLieux() {
                    return this.lieux.length
                }
            }
        }
        const app = Vue.createApp(Lieux).mount('#app')
    </script>
</body>
</html>
